<div class="wrap">
  <div class="content">
    <ion-card class="card">
      <ion-title>{{'register' | translate}}</ion-title>
      <form [formGroup]="registerForm" *ngIf="registerForm">
        <ion-item class="form-group">
          <ion-label for="name" position="fixed">{{'name' | translate}}</ion-label>
          <ion-input type="text" formControlName="name" class="form-control" id="name"></ion-input>
        </ion-item>
        <div *ngIf="name.invalid && name.touched">
          <p *ngIf="name.errors?.required">{{'please_enter_name' | translate}}</p>
        </div>
        <ion-item class="form-group">
          <ion-label for="id" position="fixed">{{'email' | translate}}</ion-label>
          <ion-input type="text" formControlName="email" class="form-control" id="id"></ion-input>
          <ion-button
          [disabled]="!email.value"
          (click)="checkIdDuplicate()"
          [color]="checkId.value? 'success': 'primary'"
          >V</ion-button>
        </ion-item>
        <div *ngIf="email.invalid && email.touched">
          <p *ngIf="email.errors?.required">{{'please_enter_email' | translate}}</p>
          <p *ngIf="email.errors?.email">{{'email_format_not_correct' | translate}}</p>
        </div>
        <ion-item class="form-group">
          <ion-label for="pwd" position="fixed">{{'password' | translate}}</ion-label>
          <ion-input type="password" formControlName="password" class="form-control" id="pwd"></ion-input>
        </ion-item>
        <div *ngIf="password.invalid && password.touched">
          <p *ngIf="password.errors?.required">{{'please_enter_password' | translate}}</p>
          <p *ngIf="password.errors?.minlength">{{'password_format' | translate}}</p>
        </div>
        <ion-item class="form-group">
          <ion-label for="confirmPwd" position="fixed">{{'confirmPassword' | translate}}</ion-label>
          <ion-input type="password" formControlName="confirmPassword" class="form-control" id="confirmPwd"></ion-input>
        </ion-item>
        <div *ngIf="confirmPassword.touched && (confirmPassword.invalid || registerForm.errors?.passwordMismatch)">
          <p *ngIf="confirmPassword.errors?.required">{{'please_enter_password' | translate}}</p>
          <p *ngIf="registerForm.errors?.passwordMismatch">{{'password_mismatch' | translate}}</p>
        </div>
      </form>

      <ion-button class="sign-up" expand="block" [disabled]="!this.registerForm.valid" (click)="signUp()">{{'register' | translate}}</ion-button>
      <div class="back-to-login" (click)="backToLogin()">
        <a >{{'backToLogin' | translate}}</a>
      </div>
    </ion-card>
  </div>
</div>
